"use strict";var D=Object.defineProperty;var r=(m,p)=>D(m,"name",{value:p,configurable:!0});const E=require("./codemirror.cjs2.js");var h={exports:{}},y;function T(){return y||(y=1,function(m,p){(function(n){n(E.requireCodemirror())})(function(n){function d(f,o,e){var i=f.getWrapperElement(),a;return a=i.appendChild(document.createElement("div")),e?a.className="CodeMirror-dialog CodeMirror-dialog-bottom":a.className="CodeMirror-dialog CodeMirror-dialog-top",typeof o=="string"?a.innerHTML=o:a.appendChild(o),n.addClass(i,"dialog-opened"),a}r(d,"dialogDiv");function g(f,o){f.state.currentNotificationClose&&f.state.currentNotificationClose(),f.state.currentNotificationClose=o}r(g,"closeNotification"),n.defineExtension("openDialog",function(f,o,e){e||(e={}),g(this,null);var i=d(this,f,e.bottom),a=!1,c=this;function l(t){if(typeof t=="string")u.value=t;else{if(a)return;a=!0,n.rmClass(i.parentNode,"dialog-opened"),i.parentNode.removeChild(i),c.focus(),e.onClose&&e.onClose(i)}}r(l,"close");var u=i.getElementsByTagName("input")[0],s;return u?(u.focus(),e.value&&(u.value=e.value,e.selectValueOnOpen!==!1&&u.select()),e.onInput&&n.on(u,"input",function(t){e.onInput(t,u.value,l)}),e.onKeyUp&&n.on(u,"keyup",function(t){e.onKeyUp(t,u.value,l)}),n.on(u,"keydown",function(t){e&&e.onKeyDown&&e.onKeyDown(t,u.value,l)||((t.keyCode==27||e.closeOnEnter!==!1&&t.keyCode==13)&&(u.blur(),n.e_stop(t),l()),t.keyCode==13&&o(u.value,t))}),e.closeOnBlur!==!1&&n.on(i,"focusout",function(t){t.relatedTarget!==null&&l()})):(s=i.getElementsByTagName("button")[0])&&(n.on(s,"click",function(){l(),c.focus()}),e.closeOnBlur!==!1&&n.on(s,"blur",l),s.focus()),l}),n.defineExtension("openConfirm",function(f,o,e){g(this,null);var i=d(this,f,e&&e.bottom),a=i.getElementsByTagName("button"),c=!1,l=this,u=1;function s(){c||(c=!0,n.rmClass(i.parentNode,"dialog-opened"),i.parentNode.removeChild(i),l.focus())}r(s,"close"),a[0].focus();for(var t=0;t<a.length;++t){var v=a[t];(function(N){n.on(v,"click",function(b){n.e_preventDefault(b),s(),N&&N(l)})})(o[t]),n.on(v,"blur",function(){--u,setTimeout(function(){u<=0&&s()},200)}),n.on(v,"focus",function(){++u})}}),n.defineExtension("openNotification",function(f,o){g(this,l);var e=d(this,f,o&&o.bottom),i=!1,a,c=o&&typeof o.duration<"u"?o.duration:5e3;function l(){i||(i=!0,clearTimeout(a),n.rmClass(e.parentNode,"dialog-opened"),e.parentNode.removeChild(e))}return r(l,"close"),n.on(e,"click",function(u){n.e_preventDefault(u),l()}),c&&(a=setTimeout(l,c)),l})})}()),h.exports}r(T,"requireDialog");exports.requireDialog=T;
//# sourceMappingURL=dialog.cjs2.js.map
